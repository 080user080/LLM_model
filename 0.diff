--- a/gui.py
+++ b/gui.py
@@ class DialogGUI(tk.Tk):
-        self.minsize(960, 700)
-        # Центрувати після побудови вікна
-        self.after(50, self._center_on_screen)
+        self.minsize(960, 700)
+        # Центрувати після побудови вікна
+        self.after(50, self._center_on_screen)
@@
-        # Таймер періодичного зчитування коротких подій
-        self.after(120, self._drain_logs)
+        # Завантажити дефолтні файли і стартувати лог-таймер
+        self._load_defaults()
+        self.after(120, self._drain_logs)
@@
     def _center_on_screen(self):
         """Центрує вікно на екрані."""
         self.update_idletasks()
         w = self.winfo_width()
         h = self.winfo_height()
         sw = self.winfo_screenwidth()
         sh = self.winfo_screenheight()
         x = (sw - w) // 2
         y = (sh - h) // 2
         self.geometry(f"{w}x{h}+{x}+{y}")
-
-        # Завжди підтягуємо дефолтні файли (перемикач видалено)
-        self._load_defaults()
-
-        # Запустити періодичне злиття логів
-        self.after(120, self._drain_logs)
@@ def _build_layout(self):
-        bottom = ttk.Panedwindow(self, orient="horizontal")
+        bottom = ttk.Panedwindow(self, orient="horizontal")
         bottom.pack(fill="both", expand=True, padx=10, pady=(0, 10))
 
         legend_frame = ttk.Labelframe(bottom, text="Легенда #g1…#g30")
         out_container = ttk.Labelframe(bottom, text="Оброблений текст")
-        # Легенда менша, текст більший
-        bottom.add(legend_frame, weight=1, minsize=200)
-        bottom.add(out_container, weight=3, minsize=400)
-        # Встановити стартову позицію роздільника так, щоб легенда була видима одразу
-        self.after(100, lambda: bottom.sashpos(0, 300))
+        # ttk.Panedwindow не підтримує minsize → контролюємо sash вручну
+        bottom.add(legend_frame, weight=1)
+        bottom.add(out_container, weight=3)
+        # Початкове положення sash і страховки після розмітки
+        self.after_idle(lambda: bottom.sashpos(0, 300))
+        self.after(200,      lambda: bottom.sashpos(0, 300))
+        # Гарантувати, що панель легенди не схована
+        self.after(350, lambda: self._ensure_legend_visible(bottom, legend_frame, 280))
@@
         self._set_status("Знайдено")
+
+    # --- Гарантувати видимість легенди у ttk.Panedwindow ---
+    def _ensure_legend_visible(self, paned: ttk.Panedwindow, legend_frame: ttk.Labelframe, min_px: int = 260):
+        """Якщо легенда стиснута до надто малого розміру, зрушити sash правіше."""
+        try:
+            legend_w = legend_frame.winfo_width()
+            if legend_w < 40:
+                paned.sashpos(0, int(min_px))
+        except Exception:
+            pass
